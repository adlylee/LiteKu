<style  type="text/css">
 td {
        text-align: center;
    }
    th {
        text-align: center;
    }
</style>
<article class="row">
	<div class="col-md-12">
		<div class="panel panel-default">
			<div class="panel-heading">
				<div class="btn-group pull-right" style="margin-top:-8px;">
					<span class="btn btn-sm dropdown-toggle" data-toggle="dropdown">
						<i class="fa fa-calendar"></i><span class="hidden-xs"> Periode Tanggal</span>
					</span>
					<ul class="dropdown-menu dropdown-menu-right">
						<form method="POST" action="" class="form-inline mt-3">
							<!-- <label for="date1">Tanggal mulai </label> -->
							<li style="padding-left:5px;padding-right:5px;">
								<input type="text" name="date1" id="date1" class="form-control periode_bundles">
							</li>
							<!-- <label for="date2">sampai </label> -->
							<li style="padding-left:5px;padding-right:5px;margin-top:5px;">
								<input type="text" name="date2" id="date2" class="form-control periode_bundles">
							</li>
							<li style="padding-left:5px;padding-right:5px;margin-top:5px;">
								<button type="submit" name="submit" class="btn btn-primary btn-block">Cari</button>
							</li>
						</form>
					</ul>
				</div>
				<h3 class="panel-title">Laporan Bulanan Bundles HAIs</h3>
			</div>
			<div class="panel-body">
				<div class="table-responsive no-margin">
					<table class="table table-striped no-margin table-bordered" id="lapbundleshais" width="100%">
						<thead>
							<tr>
								<th rowspan="3">No.</th>
								<th rowspan="3">Tanggal</th>
								<th rowspan="3">Jumlah Pasien</th>
								<th colspan="8">Insersi VAP</th>
								<th colspan="10">Insersi IADP/CLABSI</th>
								<th colspan="10">Insersi VENA PERIPER</th>
								<th colspan="8">Insersi ISK</th>
								<th colspan="10">Maintanance VAP</th>
								<th colspan="10">Maintanance IADP</th>
								<th colspan="10">Maintanance VENA PERIFER</th>
								<th colspan="12">Maintanance ISK</th>
								<th colspan="8">IDO Pre Operasi</th>
								<th colspan="12">IDO Intra Operasi</th>
								<th colspan="8">IDO Post Operasi</th>
							<tr>
								<!-- Insersi VAP -->
								<th colspan="2">Hand Hygiene</th>
								<th colspan="2">Tehniksteril</th>
								<th colspan="2">APD</th>
								<th colspan="2">Sedasi</th>
								<!-- Insersi IADP/CLABSI -->
								<th colspan="2">Hand Hygiene</th>
								<th colspan="2">Seleksi Area</th>
								<th colspan="2">Tehniksteril</th>
								<th colspan="2">Alcohol-based</th>
								<th colspan="2">APD</th>
								<!-- Insersi VENA PERIPER -->
								<th colspan="2">Hand Hygiene</th>
								<th colspan="2">Kaji Kebutuhan</th>
								<th colspan="2">Tehniksteril</th>
								<th colspan="2">Petugas</th>
								<th colspan="2">Desinfeksi</th>
								<!-- Insersi ISK -->
								<th colspan="2">Kaji Kebutuhan</th>
								<th colspan="2">Petugas</th>
								<th colspan="2">Kebersihan Tangan</th>
								<th colspan="2">Tehniksteril</th>
								<!-- Maintanance VAP -->
								<th colspan="2">Hand Hygiene</th>
								<th colspan="2">Oral Hygiene</th>
								<th colspan="2">Oropharingeal</th>
								<th colspan="2">Sedasition</th>
								<th colspan="2">Posisi Kepala</th>
								<!-- Maintanance IADP -->
								<th colspan="2">Hand Hygiene</th>
								<th colspan="2">Desinfeksi Hub</th>
								<th colspan="2">Perawatan Area</th>
								<th colspan="2">Ganti dreasing</th>
								<th colspan="2">Lepas infus</th>
								<!-- Maintanance VENA -->
								<th colspan="2">Hand Hygiene</th>
								<th colspan="2">Perawatan area</th>
								<th colspan="2">Kaji Kebutuhan</th>
								<th colspan="2">Ganti administrasi</th>
								<th colspan="2">Edukasi</th>
								<!-- Maintanance ISK -->
								<th colspan="2">Hand Hygiene</th>
								<th colspan="2">Perawatan kateter</th>
								<th colspan="2">Urinebag t.dilantai</th>
								<th colspan="2">Urinebag rendah></th>
								<th colspan="2">Posisi selang</th>
								<th colspan="2">Segera lepas</th>
								<!-- IDO Pre Operasi -->
								<th colspan="2">Mandi</th>
								<th colspan="2">Pencukuran</th>
								<th colspan="2">Gula Darah</th>
								<th colspan="2">Antibiotik</th>
								<!-- IDO Intra Operasi -->
								<th colspan="2">Hand Hygiene</th>
								<th colspan="2">Instrument Steril</th>
								<th colspan="2">Antiseptic</th>
								<th colspan="2">Teknik operasi</th>
								<th colspan="2">System mobile</th>
								<th colspan="2">Suhu 19-24ÂºC</th>
								<!-- IDO Post Operasi -->
								<th colspan="2">Luka ditutup</th>
								<th colspan="2">Rawat Luka</th>
								<th colspan="2">APD</th>
								<th colspan="2">Kaji nutris</th>

							<tr>
								<!-- Insersi VAP -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- Insersi IADP/CLABSI -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- Insersi VENA PERIPER -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- Insersi ISK -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- Maintanance VAP -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- Maintanance IADP -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- Maintanance VENA -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- Maintanance ISK -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- IDO Pre Operasi -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- IDO Intra Operasi -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<!-- IDO Post Operasi -->
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
								<td>Ya</td>
								<td>Tidak</td>
							</tr>
							</tr>
							</tr>
						</thead>
						<tbody>
							{loop: $lapbundles.list}
							<tr>
								<td></td>
								{loop: $value.jumlah as $total}
								<td>{$total.tanggal}</td>
								<td>{$total.jml_no_rawat}</td>

								<td>{$total.jml_hand_vap}</td>
								<td>{$total.tdk_hand_vap}</td>
								<td>{$total.jml_tehniksteril_vap}</td>
								<td>{$total.tdk_tehniksteril_vap}</td>
								<td>{$total.jml_apd_vap}</td>
								<td>{$total.tdk_apd_vap}</td>
								<td>{$total.jml_sedasi_vap}</td>
								<td>{$total.tdk_sedasi_vap}</td>

								<td>{$total.jml_hand_iadp}</td>
								<td>{$total.tdk_hand_iadp}</td>
								<td>{$total.jml_area_iadp}</td>
								<td>{$total.tdk_area_iadp}</td>
								<td>{$total.jml_tehniksteril_iadp}</td>
								<td>{$total.tdk_tehniksteril_iadp}</td>
								<td>{$total.jml_alcohol_iadp}</td>
								<td>{$total.tdk_alcohol_iadp}</td>
								<td>{$total.jml_apd_iadp}</td>
								<td>{$total.tdk_apd_iadp}</td>

								<td>{$total.jml_hand_vena}</td>
								<td>{$total.tdk_hand_vena}</td>
								<td>{$total.jml_kaji_vena}</td>
								<td>{$total.tdk_kaji_vena}</td>
								<td>{$total.jml_tehnik_vena}</td>
								<td>{$total.tdk_tehnik_vena}</td>
								<td>{$total.jml_petugas_vena}</td>
								<td>{$total.tdk_petugas_vena}</td>
								<td>{$total.jml_desinfeksi_vena}</td>
								<td>{$total.tdk_desinfeksi_vena}</td>

								<td>{$total.jml_kaji_isk}</td>
								<td>{$total.tdk_kaji_isk}</td>
								<td>{$total.jml_petugas_isk}</td>
								<td>{$total.tdk_petugas_isk}</td>
								<td>{$total.jml_tangan_isk}</td>
								<td>{$total.tdk_tangan_isk}</td>
								<td>{$total.jml_tehniksteril_isk}</td>
								<td>{$total.tdk_tehniksteril_isk}</td>

								<td>{$total.jml_hand_mainvap}</td>
								<td>{$total.tdk_hand_mainvap}</td>
								<td>{$total.jml_oral_mainvap}</td>
								<td>{$total.tdk_oral_mainvap}</td>
								<td>{$total.jml_manage_mainvap}</td>
								<td>{$total.tdk_manage_mainvap}</td>
								<td>{$total.jml_sedasi_mainvap}</td>
								<td>{$total.tdk_sedasi_mainvap}</td>
								<td>{$total.jml_kepala_mainvap}</td>
								<td>{$total.tdk_kepala_mainvap}</td>

								<td>{$total.jml_hand_mainiadp}</td>
								<td>{$total.tdk_hand_mainiadp}</td>
								<td>{$total.jml_desinfeksi_mainiadp}</td>
								<td>{$total.tdk_desinfeksi_mainiadp}</td>
								<td>{$total.jml_perawatan_mainiadp}</td>
								<td>{$total.tdk_perawatan_mainiadp}</td>
								<td>{$total.jml_dreasing_mainiadp}</td>
								<td>{$total.tdk_dreasing_mainiadp}</td>
								<td>{$total.jml_infus_mainiadp}</td>
								<td>{$total.tdk_infus_mainiadp}</td>

								<td>{$total.jml_hand_mainvena}</td>
								<td>{$total.tdk_hand_mainvena}</td>
								<td>{$total.jml_perawatan_mainvena}</td>
								<td>{$total.tdk_perawatan_mainvena}</td>
								<td>{$total.jml_kaji_mainvena}</td>
								<td>{$total.tdk_kaji_mainvena}</td>
								<td>{$total.jml_administrasi_mainvena}</td>
								<td>{$total.tdk_administrasi_mainvena}</td>
								<td>{$total.jml_edukasi_mainvena}</td>
								<td>{$total.tdk_edukasi_mainvena}</td>

								<td>{$total.jml_hand_mainisk}</td>
								<td>{$total.tdk_hand_mainisk}</td>
								<td>{$total.jml_kateter_mainisk}</td>
								<td>{$total.tdk_kateter_mainisk}</td>
								<td>{$total.jml_baglantai_mainisk}</td>
								<td>{$total.tdk_baglantai_mainisk}</td>
								<td>{$total.jml_bagrendah_mainisk}</td>
								<td>{$total.tdk_bagrendah_mainisk}</td>
								<td>{$total.jml_posisiselang_mainisk}</td>
								<td>{$total.tdk_posisiselang_mainisk}</td>
								<td>{$total.jml_lepas_mainisk}</td>
								<td>{$total.tdk_lepas_mainisk}</td>

								<td>{$total.jml_mandi_idopre}</td>
								<td>{$total.tdk_mandi_idopre}</td>
								<td>{$total.jml_cukur_idopre}</td>
								<td>{$total.tdk_cukur_idopre}</td>
								<td>{$total.jml_guladarah_idopre}</td>
								<td>{$total.tdk_guladarah_idopre}</td>
								<td>{$total.jml_antibiotik_idopre}</td>
								<td>{$total.tdk_antibiotik_idopre}</td>

								<td>{$total.jml_hand_idointra}</td>
								<td>{$total.tdk_hand_idointra}</td>
								<td>{$total.jml_steril_idointra}</td>
								<td>{$total.tdk_steril_idointra}</td>
								<td>{$total.jml_antiseptic_idointra}</td>
								<td>{$total.tdk_antiseptic_idointra}</td>
								<td>{$total.jml_tehnik_idointra}</td>
								<td>{$total.tdk_tehnik_idointra}</td>
								<td>{$total.jml_mobile_idointra}</td>
								<td>{$total.tdk_mobile_idointra}</td>
								<td>{$total.jml_suhu_idointra}</td>
								<td>{$total.tdk_suhu_idointra}</td>

								<td>{$total.jml_luka_idopost}</td>
								<td>{$total.tdk_luka_idopost}</td>
								<td>{$total.jml_rawat_idopost}</td>
								<td>{$total.tdk_rawat_idopost}</td>
								<td>{$total.jml_apd_idopost}</td>
								<td>{$total.tdk_apd_idopost}</td>
								<td>{$total.jml_kaji_idopost}</td>
								<td>{$total.tdk_kaji_idopost}</td>
								{/loop}
							</tr>
							{/loop}
						</tbody>
						<tfoot>
							<tr>
								<th style="text-align: center;">Total :</th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
							</tr>
						</tfoot>
					</table>
				</div>
			</div>
		</div>
	</div>
</article>
<script type="text/javascript">
    $(function () {
        $('.periode_bundles').datetimepicker({
            defaultDate: '{?=date('Y-m-d')?}',
            format: 'YYYY-MM-DD',
            locale: 'id'
        });
    });
</script>

<!-- <script type="text/javascript">
	// var table = $('#lapbundleshais').DataTable({
        //     destroy: true,
        //     dom: 'Bfrtip',
        //     buttons: [{
        //         extend: 'excel',
        //         footer: true
        //     }, 'pdf'],
        //     orderCellsTop: true // Add this line to include row numbers
        // });

        // table.on('order.dt search.dt', function () {
        //     table.column(1, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
        //         cell.innerHTML = i + 1;
        //     });
        // }).draw();

        // table.columns().every(function () {
        //     var column = this;
        //     if (column.index() === 0) return; 

        //     var total = column
        //         .data()
        //         .reduce(function (acc, val) {
        //             if (!isNaN(parseFloat(val))) {
        //                 return acc + parseFloat(val);
        //             } else {
        //                 return acc;
        //             }
        //         }, 0);

        //     if (!isNaN(total)) {
        //         $(column.footer()).html(total);
        //     }
        // });

        // Wrap your DataTable initialization in a document ready function
        $(document).ready(function () {
            var table = $('#coba').DataTable({
                destroy: true,
                dom: 'Bfrtip',
                buttons: [{
                    extend: 'excel',
                    footer: true
                }, 'pdf'],
                orderCellsTop: true // Add this line to include row numbers
            });

            table.on('order.dt search.dt', function () {
                table.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1;
                });
            }).draw();

            table.columns().every(function () {
                var column = this;
                if (column.index() === 0) return;

                var total = column
                    .data()
                    .reduce(function (acc, val) {
                        return intVal(acc) + intVal(val);
                    }, 0);

                if (!isNaN(total)) {
                    $(column.footer()).html(total);
                }
            });
        });
</script> -->


